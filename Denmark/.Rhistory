geom_line(data=IND_PRO_PHARMA, aes(x=date+45,y= `CF Pharmaceuticals`,color="Manufacturing of Pharmaceuticals"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::number_format(accuracy = 1),limits = c(00,round(max(IND_PRO_PHARMA$`CF Pharmaceuticals`))), expand = c(0,0)) +
ylab("Index, Jan 2018 = 100") +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark Data",subtitle = "Rising Demand for Weight-Loss and Diabetes Drugs Has Tripled Danish Pharmaceutical Production") +
theme_apricitas + theme(legend.position = c(.42,.54)) +
scale_color_manual(name= "Denmark, Industrial Production",values = c("#FFE98F","#00A99D","#EE6055","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("1996-01-01")-(.1861*(today()-as.Date("1996-01-01"))), xmax = as.Date("1996-01-01")-(0.049*(today()-as.Date("1996-01-01"))), ymin = 90-(.3*25), ymax = 90) +
coord_cartesian(clip = "off")
ggplot() + #plotting energy intensive manufacturing
geom_line(data=IND_PRO_PHARMA, aes(x=date+45,y= `C Manufacturing`,color="Manufacturing"), size = 1.25) +
geom_line(data=IND_PRO_PHARMA, aes(x=date+45,y= `CF Pharmaceuticals`,color="Manufacturing of Pharmaceuticals"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::number_format(accuracy = 1),limits = c(00,round(max(IND_PRO_PHARMA$`CF Pharmaceuticals`))), expand = c(0,0)) +
ylab("Index, Jan 2018 = 100") +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark Data",subtitle = "A boom in Weight-Loss and Diabetes Drugs Has More Than Tripled Danish Pharmaceutical Production") +
theme_apricitas + theme(legend.position = c(.42,.64)) +
scale_color_manual(name= "Denmark, Industrial Production",values = c("#FFE98F","#00A99D","#EE6055","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("1996-01-01")-(.1861*(today()-as.Date("1996-01-01"))), xmax = as.Date("1996-01-01")-(0.049*(today()-as.Date("1996-01-01"))), ymin = 0-(.3*25), ymax =90) +
coord_cartesian(clip = "off")
ggplot() + #plotting energy intensive manufacturing
geom_line(data=IND_PRO_PHARMA, aes(x=date,y= `C Manufacturing`,color="Manufacturing"), size = 1.25) +
geom_line(data=IND_PRO_PHARMA, aes(x=date,y= `CF Pharmaceuticals`,color="Manufacturing of Pharmaceuticals"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::number_format(accuracy = 1),limits = c(00,round(max(IND_PRO_PHARMA$`CF Pharmaceuticals`))), expand = c(0,0)) +
ylab("Index, Jan 2018 = 100") +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark Data",subtitle = "A Boom in Weight-Loss and Diabetes Drugs Has More Than Tripled Danish Pharmaceutical Production") +
theme_apricitas + theme(legend.position = c(.42,.64)) +
scale_color_manual(name= "Denmark, Industrial Production",values = c("#FFE98F","#00A99D","#EE6055","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("1996-01-01")-(.1861*(today()-as.Date("1996-01-01"))), xmax = as.Date("1996-01-01")-(0.049*(today()-as.Date("1996-01-01"))), ymin = 0-(.3*25), ymax =90) +
coord_cartesian(clip = "off")
round(max(IND_PRO_PHARMA$`CF Pharmaceuticals`))
round(max(IND_PRO_PHARMA$`CF Pharmaceuticals`),10))
round(max(IND_PRO_PHARMA$`CF Pharmaceuticals`),10))
round(max(IND_PRO_PHARMA$`CF Pharmaceuticals`),10)
round(max(IND_PRO_PHARMA$`CF Pharmaceuticals`),.1)
round(max(IND_PRO_PHARMA$`CF Pharmaceuticals`),.01)
ceiling(max(IND_PRO_PHARMA$`CF Pharmaceuticals`) / 25) * 25
(ceiling(max(IND_PRO_PHARMA$`CF Pharmaceuticals`) / 25) * 25)
ggplot() + #plotting energy intensive manufacturing
geom_line(data=IND_PRO_PHARMA, aes(x=date,y= `C Manufacturing`,color="Manufacturing"), size = 1.25) +
geom_line(data=IND_PRO_PHARMA, aes(x=date,y= `CF Pharmaceuticals`,color="Manufacturing of Pharmaceuticals"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::number_format(accuracy = 1),limits = c(0,(ceiling(max(IND_PRO_PHARMA$`CF Pharmaceuticals`) / 25) * 25)), expand = c(0,0)) +
ylab("Index, Jan 2018 = 100") +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark Data",subtitle = "A Boom in Weight-Loss and Diabetes Drugs Has More Than Tripled Danish Pharmaceutical Production") +
theme_apricitas + theme(legend.position = c(.42,.64)) +
scale_color_manual(name= "Denmark, Industrial Production",values = c("#FFE98F","#00A99D","#EE6055","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("1996-01-01")-(.1861*(today()-as.Date("1996-01-01"))), xmax = as.Date("1996-01-01")-(0.049*(today()-as.Date("1996-01-01"))), ymin = 0-(.3*(ceiling(max(IND_PRO_PHARMA$`CF Pharmaceuticals`) / 25) * 25)), ymax =90) +
coord_cartesian(clip = "off")
setwd("C:/Users/Joseph/Documents/GitHub/Apricitas/Denmark")
ggplot() + #plotting energy intensive manufacturing
geom_line(data=IND_PRO_PHARMA, aes(x=date,y= `C Manufacturing`,color="Manufacturing"), size = 1.25) +
geom_line(data=IND_PRO_PHARMA, aes(x=date,y= `CF Pharmaceuticals`,color="Manufacturing of Pharmaceuticals"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::number_format(accuracy = 1),limits = c(0,(ceiling(max(IND_PRO_PHARMA$`CF Pharmaceuticals`) / 25) * 25)), expand = c(0,0)) +
ylab("Index, Jan 2018 = 100") +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark Data",subtitle = "A Boom in Weight-Loss & Diabetes Drugs Has More Than Tripled Danish Pharmaceutical Production") +
theme_apricitas + theme(legend.position = c(.42,.64)) +
scale_color_manual(name= "Denmark, Industrial Production",values = c("#FFE98F","#00A99D","#EE6055","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2018-01-01")-(.1861*(today()-as.Date("2018-01-01"))), xmax = as.Date("2018-01-01")-(0.049*(today()-as.Date("2018-01-01"))), ymin = 0-(.3*(ceiling(max(IND_PRO_PHARMA$`CF Pharmaceuticals`) / 25) * 25)), ymax =90) +
coord_cartesian(clip = "off")
IND_PRO_PHARMA <- ggplot() + #plotting energy intensive manufacturing
geom_line(data=IND_PRO_PHARMA, aes(x=date,y= `C Manufacturing`,color="Manufacturing"), size = 1.25) +
geom_line(data=IND_PRO_PHARMA, aes(x=date,y= `CF Pharmaceuticals`,color="Manufacturing of Pharmaceuticals"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::number_format(accuracy = 1),limits = c(0,(ceiling(max(IND_PRO_PHARMA$`CF Pharmaceuticals`) / 25) * 25)), expand = c(0,0)) +
ylab("Index, Jan 2018 = 100") +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark Data",subtitle = "A Boom in Weight-Loss & Diabetes Drugs Has More Than Tripled Danish Pharmaceutical Production") +
theme_apricitas + theme(legend.position = c(.42,.64)) +
scale_color_manual(name= "Denmark, Industrial Production",values = c("#FFE98F","#00A99D","#EE6055","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2018-01-01")-(.1861*(today()-as.Date("2018-01-01"))), xmax = as.Date("2018-01-01")-(0.049*(today()-as.Date("2018-01-01"))), ymin = 0-(.3*(ceiling(max(IND_PRO_PHARMA$`CF Pharmaceuticals`) / 25) * 25)), ymax =0) +
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = IND_PRO_PHARMA, "Ind Pro Pharma.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #cairo gets rid of anti aliasing
Meta_test <- dst_meta("OMS5", lang = "en")
dst_get_data(table = "OMS5",
SÆSON = "Seasonally adjusted",
OMSTYPE = "TOTAL TURNOVER",
BRANCHE07 = c("C Manufacturing","CF Pharmaceuticals"),
Tid = "*",
lang = "en") %>%
select(-SÆSON)
TURNOVER_PHARMA_TOTAL <- dst_get_data(table = "OMS5",
SÆSON = "Seasonally adjusted",
OMSTYPE = "TOTAL TURNOVER",
BRANCHE07 = c("C Manufacturing","CF Pharmaceuticals"),
Tid = "*",
lang = "en") %>%
select(-SÆSON,-OMSTYPE) %>%
setNames(c("branch","date","value")) %>%
pivot_wider(names_from = branch) %>%
filter(date >= as.Date("2015-01-01")) %>%
mutate(`C Manufacturing` = `C Manufacturing`-`CF Pharmaceuticals`)
View(TURNOVER_PHARMA_TOTAL)
TURNOVER_PHARMA_TOTAL <- dst_get_data(table = "OMS5",
SÆSON = "Seasonally adjusted",
OMSTYPE = "TOTAL TURNOVER",
BRANCHE07 = c("C Manufacturing","CF Pharmaceuticals"),
Tid = "*",
lang = "en") %>%
select(-SÆSON,-OMSTYPE) %>%
setNames(c("branch","date","value")) %>%
pivot_wider(names_from = branch) %>%
filter(date >= as.Date("2015-01-01")) %>%
mutate(`C Manufacturing` = `C Manufacturing`-`CF Pharmaceuticals`) %>%
setNames("date","Manufacturing Ex-Pharmaceuticals","Manufacturing of Pharmaceuticals") %>%
pivot_longer(cols = `Manufacturing Ex-Pharmaceuticals`:`Manufacturing of Pharmaceuticals`)
TURNOVER_PHARMA_TOTAL <- dst_get_data(table = "OMS5",
SÆSON = "Seasonally adjusted",
OMSTYPE = "TOTAL TURNOVER",
BRANCHE07 = c("C Manufacturing","CF Pharmaceuticals"),
Tid = "*",
lang = "en") %>%
select(-SÆSON,-OMSTYPE) %>%
setNames(c("branch","date","value")) %>%
pivot_wider(names_from = branch) %>%
filter(date >= as.Date("2015-01-01")) %>%
mutate(`C Manufacturing` = `C Manufacturing`-`CF Pharmaceuticals`) %>%
setNames(c("date","Manufacturing Ex-Pharmaceuticals","Manufacturing of Pharmaceuticals")) %>%
pivot_longer(cols = `Manufacturing Ex-Pharmaceuticals`:`Manufacturing of Pharmaceuticals`)
ggplot(data = TURNOVER_PHARMA_TOTAL, aes(x = date, y = value/1000000, fill = name)) + #plotting permanent and temporary job losers
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date")
TURNOVER_PHARMA_TOTAL <- dst_get_data(table = "OMS5",
SÆSON = "Seasonally adjusted",
OMSTYPE = "TOTAL TURNOVER",
BRANCHE07 = c("C Manufacturing","CF Pharmaceuticals"),
Tid = "*",
lang = "en") %>%
select(-SÆSON,-OMSTYPE) %>%
setNames(c("branch","date","value")) %>%
pivot_wider(names_from = branch) %>%
filter(date >= as.Date("2015-01-01")) %>%
mutate(`C Manufacturing` = `C Manufacturing`-`CF Pharmaceuticals`) %>%
setNames(c("date","Manufacturing Ex-Pharmaceuticals","Manufacturing of Pharmaceuticals")) %>%
pivot_longer(cols = `Manufacturing Ex-Pharmaceuticals`:`Manufacturing of Pharmaceuticals`) %>%
mutate(name = factor(name, levels = c("Manufacturing of Pharmaceuticals","Manufacturing Ex-Pharmaceuticals")))
ggplot(data = TURNOVER_PHARMA_TOTAL, aes(x = date, y = value/1000000, fill = name)) + #plotting permanent and temporary job losers
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Change Since Jan 2020, Millions of Jobs") +
scale_y_continuous(labels = scales::number_format(accuracy = 0.5, suffix = "M"), expand = c(0,0), limits = c(-1.500,round(max(EMPLOYMENT_INDEXED_NACE_2_ITALY_LINE_MAX$value / 1000), 1))) +
ggtitle("The Shape of Italian Job Growth") +
labs(caption = "Graph created by @JosephPolitano using Eurostat data", subtitle = "White Collar Industries, Construction, and Manufacturing are Driving Italian Job Growth") +
theme_apricitas + theme(legend.position = c(.485,.145), legend.spacing.y = unit(0, 'cm'), legend.key.width = unit(0.45, 'cm'), legend.key.height = unit(0.35, "cm"),legend.text = (element_text(size = 13)), legend.title=element_text(size=14)) +#, axis.text.x=element_blank(), axis.title.x=element_blank()) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Professional & Business Services, Information, Communication, Finance, & Real Estate","Construction","Industry ex Construction","Public Administration, Defense, Education, Health, and Social Work","Agriculture, Forestry, and Fishing","Wholesale/Retail Trade, Transport, Food Service, Accomodations, Arts, Recreation, etc.")) +
scale_color_manual(name= NULL,values = c("#970C10")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2019-10-01")-(.1861*(today()-as.Date("2019-10-01"))), xmax = as.Date("2019-10-01")-(0.049*(today()-as.Date("2019-10-01"))), ymin = -1.500-(.3*(round(max(EMPLOYMENT_INDEXED_NACE_2_ITALY_LINE_MAX$value / 1000), 1)+1.5)), ymax = -1.500) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggplot(data = TURNOVER_PHARMA_TOTAL, aes(x = date, y = value/1000000, fill = name)) + #plotting permanent and temporary job losers
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA)
ggplot(data = TURNOVER_PHARMA_TOTAL, aes(x = date, y = value/1000000, fill = name)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 0.5, suffix = "B kr."), expand = c(0,0), limits = c(0,300)) +
ggtitle("The Shape of Italian Job Growth") +
labs(caption = "Graph created by @JosephPolitano using Eurostat data", subtitle = "White Collar Industries, Construction, and Manufacturing are Driving Italian Job Growth") +
theme_apricitas + theme(legend.position = c(.485,.145), legend.spacing.y = unit(0, 'cm'), legend.key.width = unit(0.45, 'cm'), legend.key.height = unit(0.35, "cm"),legend.text = (element_text(size = 13)), legend.title=element_text(size=14)) +#, axis.text.x=element_blank(), axis.title.x=element_blank()) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Manufacturing of Pharmaceuticals","Manufacturing Ex-Pharmaceuticals")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2015-01-01")-(.1861*(today()-as.Date("2019-01-01"))), xmax = as.Date("2019-01-01")-(0.049*(today()-as.Date("2019-01-01"))), ymin = 0-(.3*300), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggplot(data = TURNOVER_PHARMA_TOTAL, aes(x = date, y = value/1000000, fill = name)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,300)) +
ggtitle("The Shape of Italian Job Growth") +
labs(caption = "Graph created by @JosephPolitano using Eurostat data", subtitle = "White Collar Industries, Construction, and Manufacturing are Driving Italian Job Growth") +
theme_apricitas + theme(legend.position = c(.485,.745), legend.spacing.y = unit(0, 'cm'), legend.key.width = unit(0.45, 'cm'), legend.key.height = unit(0.35, "cm"),legend.text = (element_text(size = 13)), legend.title=element_text(size=14)) +#, axis.text.x=element_blank(), axis.title.x=element_blank()) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Manufacturing of Pharmaceuticals","Manufacturing Ex-Pharmaceuticals")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2015-01-01")-(.1861*(today()-as.Date("2015-01-01"))), xmax = as.Date("2015-01-01")-(0.049*(today()-as.Date("2015-01-01"))), ymin = 0-(.3*300), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggplot(data = TURNOVER_PHARMA_TOTAL, aes(x = date, y = value/1000000, fill = name)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,300)) +
ggtitle("The Shape of Italian Job Growth") +
labs(caption = "Graph created by @JosephPolitano using Eurostat data", subtitle = "White Collar Industries, Construction, and Manufacturing are Driving Italian Job Growth") +
theme_apricitas + theme(legend.position = c(.45,.845)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Manufacturing of Pharmaceuticals","Manufacturing Ex-Pharmaceuticals")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2015-01-01")-(.1861*(today()-as.Date("2015-01-01"))), xmax = as.Date("2015-01-01")-(0.049*(today()-as.Date("2015-01-01"))), ymin = 0-(.3*300), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggplot(data = TURNOVER_PHARMA_TOTAL, aes(x = date, y = value/1000000, fill = name)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,300)) +
ggtitle("The Shape of Italian Job Growth") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark data", subtitle = "Growth in Pharmaceutical Turnover is Driving Essentially All Growth in Manufacturing Turnover") +
theme_apricitas + theme(legend.position = c(.45,.845)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Manufacturing of Pharmaceuticals","Manufacturing Ex-Pharmaceuticals")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2015-01-01")-(.1861*(today()-as.Date("2015-01-01"))), xmax = as.Date("2015-01-01")-(0.049*(today()-as.Date("2015-01-01"))), ymin = 0-(.3*300), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggplot(data = TURNOVER_PHARMA_TOTAL, aes(x = date, y = value/1000000, fill = name)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,300)) +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark data", subtitle = "Growth in Pharmaceutical Turnover is Driving Essentially All Growth in Manufacturing Turnover") +
theme_apricitas + theme(legend.position = c(.45,.845)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Manufacturing of Pharmaceuticals","Manufacturing Ex-Pharmaceuticals")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2015-01-01")-(.1861*(today()-as.Date("2015-01-01"))), xmax = as.Date("2015-01-01")-(0.049*(today()-as.Date("2015-01-01"))), ymin = 0-(.3*300), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
TURNOVER_PHARMA_TOTAL_graph <- ggplot(data = TURNOVER_PHARMA_TOTAL, aes(x = date, y = value/1000000, fill = name)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,300)) +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark data", subtitle = "Growth in Pharmaceutical Turnover is Driving Essentially All Growth in Manufacturing Turnover") +
theme_apricitas + theme(legend.position = c(.45,.845)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Manufacturing of Pharmaceuticals","Manufacturing Ex-Pharmaceuticals")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2015-01-01")-(.1861*(today()-as.Date("2015-01-01"))), xmax = as.Date("2015-01-01")-(0.049*(today()-as.Date("2015-01-01"))), ymin = 0-(.3*300), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = TURNOVER_PHARMA_TOTAL_graph, "Turnover Pharma Total.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #cairo gets rid of anti aliasing
dst_get_data(table = "OMS5",
SÆSON = "Seasonally adjusted",
OMSTYPE = c("TOTAL TURNOVER","SALES OF OWN COMMODITIES TOTAL","Production on own account","Production outsourced to others","TOTAL INDUSTRIAL SERVICES","Contract work for other enterprises","Commercial (resale) turnover","Other turnover"),
BRANCHE07 = "CF Pharmaceuticals",
Tid = "*",
lang = "en") %>%
select(-SÆSON,-OMSTYPE) %>%
setNames(c("branch","date","value")) %>%
pivot_wider(names_from = branch) %>%
filter(date >= as.Date("2021-01-01")) %>%
mutate(`C Manufacturing` = `C Manufacturing`-`CF Pharmaceuticals`) %>%
setNames(c("date","Manufacturing Ex-Pharmaceuticals","Manufacturing of Pharmaceuticals")) %>%
pivot_longer(cols = `Manufacturing Ex-Pharmaceuticals`:`Manufacturing of Pharmaceuticals`) %>%
mutate(name = factor(name, levels = c("Manufacturing of Pharmaceuticals","Manufacturing Ex-Pharmaceuticals")))
dst_get_data(table = "OMS5",
SÆSON = "Seasonally adjusted",
OMSTYPE = c("TOTAL TURNOVER","SALES OF OWN COMMODITIES TOTAL","Production on own account","Production outsourced to others","TOTAL INDUSTRIAL SERVICES","Contract work for other enterprises","Commercial (resale) turnover","Other turnover"),
BRANCHE07 = "CF Pharmaceuticals",
Tid = "*",
lang = "en") %>%
select(-SÆSON,-BRANCHE07) %>%
setNames(c("Category","date","value"))
TURNOVER_PHARMA_BREAKDOWN <- dst_get_data(table = "OMS5",
SÆSON = "Seasonally adjusted",
OMSTYPE = c("TOTAL TURNOVER","SALES OF OWN COMMODITIES TOTAL","Production on own account","Production outsourced to others","TOTAL INDUSTRIAL SERVICES","Contract work for other enterprises","Commercial (resale) turnover","Other turnover"),
BRANCHE07 = "CF Pharmaceuticals",
Tid = "*",
lang = "en") %>%
select(-SÆSON,-BRANCHE07) %>%
setNames(c("Category","date","value")) %>%
filter(date >= as.Date("2021-01-01"))
View(TURNOVER_PHARMA_BREAKDOWN)
TURNOVER_PHARMA_BREAKDOWN <- dst_get_data(table = "OMS5",
SÆSON = "Non-seasonally adjusted",
OMSTYPE = c("TOTAL TURNOVER","SALES OF OWN COMMODITIES TOTAL","Production on own account","Production outsourced to others","TOTAL INDUSTRIAL SERVICES","Contract work for other enterprises","Commercial (resale) turnover","Other turnover"),
BRANCHE07 = "CF Pharmaceuticals",
Tid = "*",
lang = "en") %>%
select(-SÆSON,-BRANCHE07) %>%
setNames(c("Category","date","value")) %>%
filter(date >= as.Date("2021-01-01"))
dst_get_data(table = "OMS5",
SÆSON = "Non-seasonally adjusted",
OMSTYPE = c("Production on own account","Production outsourced to others","TOTAL INDUSTRIAL SERVICES","Commercial (resale) turnover","Other turnover"),
BRANCHE07 = "CF Pharmaceuticals",
Tid = "*",
lang = "en") %>%
select(-SÆSON,-BRANCHE07) %>%
setNames(c("Category","date","value")) %>%
filter(date >= as.Date("2021-01-01"))
dst_get_data(table = "OMS5",
SÆSON = "Non-seasonally adjusted",
OMSTYPE = c("Production on own account","Production outsourced to others","TOTAL INDUSTRIAL SERVICES","Commercial (resale) turnover","Other turnover"),
BRANCHE07 = "CF Pharmaceuticals",
Tid = "*",
lang = "en") %>%
select(-SÆSON,-BRANCHE07) %>%
setNames(c("Category","date","value")) %>%
filter(date >= as.Date("2021-01-01")) %>%
mutate(Category = gsub("TOTAL INDUSTRIAL SERVICES","Total Industrial Services",Category))
dst_get_data(table = "OMS5",
SÆSON = "Non-seasonally adjusted",
OMSTYPE = c("Production on own account","Production outsourced to others","TOTAL INDUSTRIAL SERVICES","Commercial (resale) turnover","Other turnover"),
BRANCHE07 = "CF Pharmaceuticals",
Tid = "*",
lang = "en") %>%
select(-SÆSON,-BRANCHE07) %>%
setNames(c("Category","date","value")) %>%
filter(date >= as.Date("2021-01-01")) %>%
mutate(Category = gsub("TOTAL INDUSTRIAL SERVICES","Industrial Services",Category)) %>%
mutate(Category = gsub("Commercial (resale) turnover","Commercial (resale) sales",Category)) %>%
mutate(Category = gsub("Other turnover","Other sales",Category))
ggplot(data = TURNOVER_PHARMA_TOTAL, aes(x = date, y = value/1000000, fill = name)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,300)) +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark data", subtitle = "Growth in Pharmaceutical Turnover is Driving Essentially All Growth in Manufacturing Turnover") +
theme_apricitas + theme(legend.position = c(.45,.845)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Manufacturing of Pharmaceuticals","Manufacturing Ex-Pharmaceuticals")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2015-01-01")-(.1861*(today()-as.Date("2015-01-01"))), xmax = as.Date("2015-01-01")-(0.049*(today()-as.Date("2015-01-01"))), ymin = 0-(.3*300), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
TURNOVER_PHARMA_BREAKDOWN <- dst_get_data(table = "OMS5",
SÆSON = "Non-seasonally adjusted",
OMSTYPE = c("Production on own account","Production outsourced to others","TOTAL INDUSTRIAL SERVICES","Commercial (resale) turnover","Other turnover"),
BRANCHE07 = "CF Pharmaceuticals",
Tid = "*",
lang = "en") %>%
select(-SÆSON,-BRANCHE07) %>%
setNames(c("Category","date","value")) %>%
filter(date >= as.Date("2021-01-01")) %>%
mutate(Category = gsub("TOTAL INDUSTRIAL SERVICES","Industrial services",Category)) %>%
mutate(Category = gsub("Commercial (resale) turnover","Commercial (resale) sales",Category)) %>%
mutate(Category = gsub("Other turnover","Other sales",Category)) %>%
mutate(name = factor(name, levels = rev(c("Production on own account","Production outsourced to others","Industrial services","Commercial (resale) turnover","Other sales"))))
TURNOVER_PHARMA_BREAKDOWN <- dst_get_data(table = "OMS5",
SÆSON = "Non-seasonally adjusted",
OMSTYPE = c("Production on own account","Production outsourced to others","TOTAL INDUSTRIAL SERVICES","Commercial (resale) turnover","Other turnover"),
BRANCHE07 = "CF Pharmaceuticals",
Tid = "*",
lang = "en") %>%
select(-SÆSON,-BRANCHE07) %>%
setNames(c("Category","date","value")) %>%
filter(date >= as.Date("2021-01-01")) %>%
mutate(Category = gsub("TOTAL INDUSTRIAL SERVICES","Industrial services",Category)) %>%
mutate(Category = gsub("Commercial (resale) turnover","Commercial (resale) sales",Category)) %>%
mutate(Category = gsub("Other turnover","Other sales",Category)) %>%
mutate(Category = factor(Category, levels = rev(c("Production on own account","Production outsourced to others","Industrial services","Commercial (resale) turnover","Other sales"))))
ggplot(data = TURNOVER_PHARMA_BREAKDOWN, aes(x = date, y = value/1000000, fill = name)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,300)) +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark data", subtitle = "Growth in Pharmaceutical Turnover is Driving Essentially All Growth in Manufacturing Turnover") +
theme_apricitas + theme(legend.position = c(.45,.845)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Manufacturing of Pharmaceuticals","Manufacturing Ex-Pharmaceuticals")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2015-01-01")-(.1861*(today()-as.Date("2015-01-01"))), xmax = as.Date("2015-01-01")-(0.049*(today()-as.Date("2015-01-01"))), ymin = 0-(.3*300), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggplot(data = TURNOVER_PHARMA_BREAKDOWN, aes(x = date, y = value/1000000, fill = Category)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,300)) +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark data", subtitle = "Growth in Pharmaceutical Turnover is Driving Essentially All Growth in Manufacturing Turnover") +
theme_apricitas + theme(legend.position = c(.45,.845)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Manufacturing of Pharmaceuticals","Manufacturing Ex-Pharmaceuticals")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2015-01-01")-(.1861*(today()-as.Date("2015-01-01"))), xmax = as.Date("2015-01-01")-(0.049*(today()-as.Date("2015-01-01"))), ymin = 0-(.3*300), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggplot(data = TURNOVER_PHARMA_BREAKDOWN, aes(x = date, y = value/1000000, fill = Category)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,300)) +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark data", subtitle = "Growth in Pharmaceutical Turnover is Driving Essentially All Growth in Manufacturing Turnover") +
theme_apricitas + theme(legend.position = c(.45,.845)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2015-01-01")-(.1861*(today()-as.Date("2015-01-01"))), xmax = as.Date("2015-01-01")-(0.049*(today()-as.Date("2015-01-01"))), ymin = 0-(.3*300), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggplot(data = TURNOVER_PHARMA_BREAKDOWN, aes(x = date, y = value/1000000, fill = Category)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,75)) +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark data", subtitle = "Growth in Pharmaceutical Turnover is Driving Essentially All Growth in Manufacturing Turnover") +
theme_apricitas + theme(legend.position = c(.45,.845)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = rev(c("Production on own account","Production outsourced to others","Industrial services","Commercial (resale) turnover","Other sales"))) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2015-01-01")-(.1861*(today()-as.Date("2015-01-01"))), xmax = as.Date("2015-01-01")-(0.049*(today()-as.Date("2015-01-01"))), ymin = 0-(.3*300), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggplot(data = TURNOVER_PHARMA_BREAKDOWN, aes(x = date, y = value/1000000, fill = Category)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,75)) +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark data", subtitle = "Growth in Pharmaceutical Turnover is Driving Essentially All Growth in Manufacturing Turnover") +
theme_apricitas + theme(legend.position = c(.45,.845)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Production on own account","Production outsourced to others","Industrial services","Commercial (resale) turnover","Other sales")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2015-01-01")-(.1861*(today()-as.Date("2015-01-01"))), xmax = as.Date("2015-01-01")-(0.049*(today()-as.Date("2015-01-01"))), ymin = 0-(.3*300), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggplot(data = TURNOVER_PHARMA_BREAKDOWN, aes(x = date, y = value/1000000, fill = Category)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,75), breaks = c(0,25,50,75)) +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark data", subtitle = "Growth in Pharmaceutical Turnover is Driving Essentially All Growth in Manufacturing Turnover") +
theme_apricitas + theme(legend.position = c(.45,.845)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Production on own account","Production outsourced to others","Industrial services","Commercial (resale) turnover","Other sales")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2015-01-01")-(.1861*(today()-as.Date("2015-01-01"))), xmax = as.Date("2015-01-01")-(0.049*(today()-as.Date("2015-01-01"))), ymin = 0-(.3*300), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggplot(data = TURNOVER_PHARMA_BREAKDOWN, aes(x = date, y = value/1000000, fill = Category)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,75), breaks = c(0,25,50,75)) +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark data", subtitle = "Growth in Pharmaceutical Turnover is Driving Essentially All Growth in Manufacturing Turnover") +
theme_apricitas + theme(legend.position = c(.45,.845)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Production on own account","Production outsourced to others","Industrial services","Commercial (resale) turnover","Other sales")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2021-01-01")-(.1861*(today()-as.Date("2021-01-01"))), xmax = as.Date("2021-01-01")-(0.049*(today()-as.Date("2021-01-01"))), ymin = 0-(.3*75), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggplot(data = TURNOVER_PHARMA_BREAKDOWN, aes(x = date, y = value/1000000, fill = Category)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,75), breaks = c(0,25,50,75)) +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark data", subtitle = "Production Outsourcing is Rising Among Danish Pharmaceutical Manufacturers") +
theme_apricitas + theme(legend.position = c(.45,.845)) +
scale_fill_manual(name= "Sales, Danish Pharmaceutical Manufacturers",values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Production on own account","Production outsourced to others","Industrial services","Commercial (resale) turnover","Other sales")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2021-01-01")-(.1861*(today()-as.Date("2021-01-01"))), xmax = as.Date("2021-01-01")-(0.049*(today()-as.Date("2021-01-01"))), ymin = 0-(.3*75), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
setwd("C:/Users/Joseph/Documents/GitHub/Apricitas/Denmark")
TURNOVER_PHARMA_BREAKDOWN_graph <- ggplot(data = TURNOVER_PHARMA_BREAKDOWN, aes(x = date, y = value/1000000, fill = Category)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,75), breaks = c(0,25,50,75)) +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark data", subtitle = "Production Outsourcing is Rising Among Danish Pharmaceutical Manufacturers") +
theme_apricitas + theme(legend.position = c(.45,.83)) +
scale_fill_manual(name= "Sales, Danish Pharmaceutical Manufacturers",values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Production on own account","Production outsourced to others","Industrial services","Commercial (resale) turnover","Other sales")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2021-01-01")-(.1861*(today()-as.Date("2021-01-01"))), xmax = as.Date("2021-01-01")-(0.049*(today()-as.Date("2021-01-01"))), ymin = 0-(.3*75), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = TURNOVER_PHARMA_BREAKDOWN_graph, "Turnover Pharma Breakdown.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #cairo gets rid of anti aliasing
TURNOVER_PHARMA_BREAKDOWN_graph <- ggplot(data = TURNOVER_PHARMA_BREAKDOWN, aes(x = date, y = value/1000000, fill = Category)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,75), breaks = c(0,25,50,75)) +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark data", subtitle = "Production Outsourcing is Rising Among Danish Pharmaceutical Manufacturers") +
theme_apricitas + theme(legend.position = c(.4,.73)) +
scale_fill_manual(name= "Sales, Danish Pharmaceutical Manufacturers",values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Production on own account","Production outsourced to others","Industrial services","Commercial (resale) turnover","Other sales")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2021-01-01")-(.1861*(today()-as.Date("2021-01-01"))), xmax = as.Date("2021-01-01")-(0.049*(today()-as.Date("2021-01-01"))), ymin = 0-(.3*75), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = TURNOVER_PHARMA_BREAKDOWN_graph, "Turnover Pharma Breakdown.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #cairo gets rid of anti aliasing
TURNOVER_PHARMA_BREAKDOWN_graph <- ggplot(data = TURNOVER_PHARMA_BREAKDOWN, aes(x = date, y = value/1000000, fill = Category)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,75), breaks = c(0,25,50,75)) +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark data", subtitle = "Production Outsourcing is Rising Among Danish Pharmaceutical Manufacturers") +
theme_apricitas + theme(legend.position = c(.4,.8)) +
scale_fill_manual(name= "Sales, Danish Pharmaceutical Manufacturers",values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Production on own account","Production outsourced to others","Industrial services","Commercial (resale) turnover","Other sales")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2021-01-01")-(.1861*(today()-as.Date("2021-01-01"))), xmax = as.Date("2021-01-01")-(0.049*(today()-as.Date("2021-01-01"))), ymin = 0-(.3*75), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = TURNOVER_PHARMA_BREAKDOWN_graph, "Turnover Pharma Breakdown.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #cairo gets rid of anti aliasing
TURNOVER_PHARMA_BREAKDOWN_graph <- ggplot(data = TURNOVER_PHARMA_BREAKDOWN, aes(x = date, y = value/1000000, fill = Category)) +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Danish Krone") +
scale_y_continuous(labels = scales::number_format(accuracy = 1, suffix = "B kr."), expand = c(0,0), limits = c(0,75), breaks = c(0,25,50,75)) +
ggtitle("Denmark's Pharma Boom") +
labs(caption = "Graph created by @JosephPolitano using Statistics Denmark data", subtitle = "Production Outsourcing is Rising Among Danish Pharmaceutical Manufacturers") +
theme_apricitas + theme(legend.position = c(.4,.775)) +
scale_fill_manual(name= "Sales, Danish Pharmaceutical Manufacturers",values = c("#FFE98F","#EE6055","#00A99D","#A7ACD9","#9A348E","#3083DC","#6A4C93"), breaks = c("Production on own account","Production outsourced to others","Industrial services","Commercial (resale) turnover","Other sales")) +
theme(legend.text =  element_text(size = 13, color = "white")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2021-01-01")-(.1861*(today()-as.Date("2021-01-01"))), xmax = as.Date("2021-01-01")-(0.049*(today()-as.Date("2021-01-01"))), ymin = 0-(.3*75), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = TURNOVER_PHARMA_BREAKDOWN_graph, "Turnover Pharma Breakdown.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #cairo gets rid of anti aliasing
