theme_apricitas + theme(legend.position = c(.12,.82)) +
theme(plot.title = element_text(size = 21)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) + #, breaks = c("Federal", "Other")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2012-01-01")-(.1861*(today()-as.Date("2012-01-01"))), xmax = as.Date("2012-01-01")-(0.049*(today()-as.Date("2012-01-01"))), ymin = 0-(.3*.105), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggplot(data = ANNUAL_PAYMENTS, aes(x = date, y = value, fill = name)) + #plotting permanent and temporary job losers
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("% of Disposable Income") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 1, suffix = "B"), breaks = c(0,25,50,75,100), limits = c(0,105), expand = c(0,0)) +
ggtitle("Federal Student Loans Payments, Incl. Refinancing") +
labs(caption = "Graph created by @JosephPolitano using Department of Education Annual Financial Report Data", subtitle = "The Pandemic-era Forebearance Caused Student Loan Payments to Fall Dramatically") +
theme_apricitas + theme(legend.position = c(.12,.82)) +
theme(plot.title = element_text(size = 21)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) + #, breaks = c("Federal", "Other")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2012-01-01")-(.1861*(today()-as.Date("2012-01-01"))), xmax = as.Date("2012-01-01")-(0.049*(today()-as.Date("2012-01-01"))), ymin = 0-(.3*.105), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ANNUAL_PAYMENTS_GRAPH <- ggplot(data = ANNUAL_PAYMENTS, aes(x = date, y = value, fill = name)) + #plotting permanent and temporary job losers
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("% of Disposable Income") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 1, suffix = "B"), breaks = c(0,25,50,75,100), limits = c(0,105), expand = c(0,0)) +
ggtitle("Federal Student Loans Payments, Incl. Refinancing") +
labs(caption = "Graph created by @JosephPolitano using Department of Education Annual Financial Report Data", subtitle = "The Pandemic-era Forebearance Caused Student Loan Payments to Fall Dramatically") +
theme_apricitas + theme(legend.position = c(.12,.82)) +
theme(plot.title = element_text(size = 21)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) + #, breaks = c("Federal", "Other")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2012-01-01")-(.1861*(today()-as.Date("2012-01-01"))), xmax = as.Date("2012-01-01")-(0.049*(today()-as.Date("2012-01-01"))), ymin = 0-(.3*100), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = ANNUAL_PAYMENTS_GRAPH, "Annual Student Loan Payments.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #CAIRO GETS RID OF THE ANTI ALIASING ISSUE
ggplot(data = ANNUAL_PAYMENTS, aes(x = date, y = value, fill = name)) + #plotting permanent and temporary job losers
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Dollars") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 1, suffix = "B"), breaks = c(0,25,50,75,100), limits = c(0,105), expand = c(0,0)) +
ggtitle("Federal Student Loans Payments, Incl. Refinancing") +
labs(caption = "Graph created by @JosephPolitano using Department of Education Annual Financial Report Data", subtitle = "The Pandemic-era Forebearance Caused Student Loan Payments to Fall Dramatically") +
theme_apricitas + theme(legend.position = c(.12,.82)) +
theme(plot.title = element_text(size = 21)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E"), breaks = c("Principal", "Interest", "Fees")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2012-01-01")-(.1861*(today()-as.Date("2012-01-01"))), xmax = as.Date("2012-01-01")-(0.049*(today()-as.Date("2012-01-01"))), ymin = 0-(.3*100), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
setwd("C:/Users/josep/Documents/GitHub/Apricitas/Student Loan Resumption")
ANNUAL_PAYMENTS_GRAPH <- ggplot(data = ANNUAL_PAYMENTS, aes(x = date, y = value, fill = name)) + #plotting permanent and temporary job losers
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Dollars") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 1, suffix = "B"), breaks = c(0,25,50,75,100), limits = c(0,105), expand = c(0,0)) +
ggtitle("Federal Student Loans Payments, Incl. Refinancing") +
labs(caption = "Graph created by @JosephPolitano using Department of Education Annual Financial Report Data", subtitle = "The Pandemic-era Forebearance Caused Student Loan Payments to Fall Dramatically") +
theme_apricitas + theme(legend.position = c(.12,.82)) +
theme(plot.title = element_text(size = 22)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E"), breaks = c("Principal", "Interest", "Fees")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2012-01-01")-(.1861*(today()-as.Date("2012-01-01"))), xmax = as.Date("2012-01-01")-(0.049*(today()-as.Date("2012-01-01"))), ymin = 0-(.3*100), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = ANNUAL_PAYMENTS_GRAPH, "Annual Student Loan Payments.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #CAIRO GETS RID OF THE ANTI ALIASING ISSUE
ANNUAL_PAYMENTS_GRAPH <- ggplot(data = ANNUAL_PAYMENTS, aes(x = date, y = value, fill = name)) + #plotting permanent and temporary job losers
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_bar(stat = "identity", position = "stack", color = NA) +
xlab("Date") +
ylab("Billions of Dollars") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 1, suffix = "B"), breaks = c(0,25,50,75,100), limits = c(0,105), expand = c(0,0)) +
ggtitle("Federal Student Loans Payments, Incl. Refinancing") +
labs(caption = "Graph created by @JosephPolitano using Department of Education Annual Financial Report Data", subtitle = "The Pandemic-era Forebearance Caused Student Loan Payments to Fall Dramatically") +
theme_apricitas + theme(legend.position = c(.12,.82)) +
theme(plot.title = element_text(size = 23)) +
scale_fill_manual(name= NULL,values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E"), breaks = c("Principal", "Interest", "Fees")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2012-01-01")-(.1861*(today()-as.Date("2012-01-01"))), xmax = as.Date("2012-01-01")-(0.049*(today()-as.Date("2012-01-01"))), ymin = 0-(.3*100), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = ANNUAL_PAYMENTS_GRAPH, "Annual Student Loan Payments.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #CAIRO GETS RID OF THE ANTI ALIASING ISSUE
https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?filter=record_date:eq:2023-07-06
read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?filter=record_date:eq:2023-07-06")
read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?filter=transaction_category:eq:Dept_of_Education_(ED)")
read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?filter=transaction_catg:eq:Dept_of_Education_(ED)")
GET("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?filter=transaction_catg:eq:Dept_of_Education_(ED)")
GET("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2")
pacman::p_load(jsonlite,fs,bea.R,cbsodataR,seasonal,eurostat,censusapi,estatapi,janitor,openxlsx,dplyr,BOJ,readxl,RcppRoll,DSSAT,tidyr,eia,cli,remotes,magick,cowplot,knitr,png,httr,grid,usethis,pacman,rio,ggplot2,ggthemes,quantmod,dplyr,data.table,lubridate,forecast,gifski,av,tidyr,gganimate,zoo,RCurl,Cairo,datetime,stringr,pollster,tidyquant,hrbrthemes,plotly,fredr)
url <- "https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2"
# use GET to download
response <- GET(url)
View(response)
# check if the request was successful
if (http_status(response)$category == "Success") {
# Parse the response to JSON
content <- content(response, "text", encoding = "UTF-8")
# Convert the JSON to a list in R
list_data <- fromJSON(content, flatten = TRUE)
# Do something with the list_data...
print(list_data)
} else {
print(paste("Failed to download data: ", http_status(response)$message))
}
url <- "https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2"
# use GET to download
response <- GET(url)
# check if the request was successful
if (http_status(response)$category == "Success") {
# Parse the response to JSON
content <- content(response, "text", encoding = "UTF-8")
# Convert the JSON to a list in R
list_data <- fromJSON(content, flatten = TRUE)
# Convert the list to a data frame
df <- as.data.frame(list_data)
# Do something with the data frame...
print(df)
} else {
print(paste("Failed to download data: ", http_status(response)$message))
}
url <- "https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2"
# use GET to download
response <- GET(url)
# Parse the response to JSON
content <- content(response, "text", encoding = "UTF-8")
# Convert the JSON to a list in R
list_data <- fromJSON(content, flatten = TRUE)
View(list_data)
# Convert the list to a data frame
df <- as.data.frame(list_data)
read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv")
read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv?transaction_catg=Dept-of-Education()")
read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv?transaction_catg=Dept-of-Education-(ED)")
read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv,transaction_catg=Dept-of-Education-(ED)")
read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&transaction_catg=Dept-of-Education-(ED)")
read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?transaction_catg=Dept-of-Education-(ED)")
read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?transaction_catg:eq:Dept-of-Education-(ED)")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv")
View(test)
GET("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?fields=record_date,account_type,transaction_type,transaction_catg,transaction_catg_desc")
test <- GET("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?fields=record_date,account_type,transaction_type,transaction_catg,transaction_catg_desc")
test[["content"]]
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?filter=record_date:eq:2023-07-06&format=csv")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?filter=record_date:eq:2023-07-06&format=csv&page[size]=100000000000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=100000000000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt")
View(test)
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type=deposits")
View(test)
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:deposits")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits")
View(test)
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits&transaction_catg:eq:Education-department-programs")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:eq:Education-department-programs")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:eq:Education-Department-programs")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:eq:Education_Department_programs")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits")
View(test)
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:eq:Other_Deposits")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:eq:Other-Deposits")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:eq:Other—Deposits")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits, transaction_catg:eq:Other—Deposits")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:eq:Other—Deposits")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=1000000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=100000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits")
View(test)
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:eq:Other-Deposits")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:eq:OtherDeposits")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,record_date:gte:2020-01-01")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:eq:Postal-Service")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:in:Postal-Service")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:in:Postal-Service")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:in:(Postal-Service)")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:in:(Postal.Service)")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:in:Postal%Service")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:in:Postal_Service")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:eq:Postal-Service")
why <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/od/rates_of_exchange?fields=country_currency_desc,exchange_rate,record_date&filter=country_currency_desc:in:(Canada-Dollar,Mexico-Peso),record_date:gte:2020-01-01")
why <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/od/rates_of_exchange?format=csv&fields=country_currency_desc,exchange_rate,record_date&filter=country_currency_desc:in:(Canada-Dollar,Mexico-Peso),record_date:gte:2020-01-01")
View(why)
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:eq:Postal%20Service")
View(test)
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits") ,transaction_catg:eq:Postal%20Service
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits")
View(test)
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Depositstransaction_catg:eq:Education%20Department%20programs")
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:eq:Education%20Department%20programs")
View(test)
test <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:in:(Education%20Department%20programs,Dept%20of%20Education%20(ED))")
View(test)
DOE_TGA_DEPOSITS
read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:in:(Education%20Department%20programs,Dept%20of%20Education%20(ED))") %>%
transmute(date = record_date, value = transaction_mtd_amt) %>%
group_by(year = year(date), month = month(date)) %>%
filter(date == max(date))
DOE_TGA_DEPOSITS <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:in:(Education%20Department%20programs,Dept%20of%20Education%20(ED))") %>%
transmute(date = record_date, value = transaction_mtd_amt) %>%
group_by(year = year(date), month = month(date)) %>%
filter(date == max(date))
View(DOE_TGA_DEPOSITS)
ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = value/1000), color = "Department of Education Monthly Receipts", size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 0.25, suffix = "B"),limits = c(0,7.5), breaks = c(0,2.5,5,7.5), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Most Outstanding Loans Belong to High-Balance Debtors, With 60% From Those with $60k+") +
theme_apricitas + theme(legend.position = "right") +
scale_fill_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-01-01")-(.1861*(today()-as.Date("2005-01-01"))), xmax = as.Date("2005-01-01")-(0.049*(today()-as.Date("2005-01-01"))), ymin = 0-(.3*7.5), ymax = 0) +
coord_cartesian(clip = "off")
DOE_TGA_DEPOSITS
DOE_TGA_DEPOSITS <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:in:(Education%20Department%20programs,Dept%20of%20Education%20(ED))") %>%
transmute(date = as.Date(record_date), value = transaction_mtd_amt) %>%
group_by(year = year(date), month = month(date)) %>%
filter(date == max(date))
ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = value/1000), color = "Department of Education Monthly Receipts", size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 0.25, suffix = "B"),limits = c(0,7.5), breaks = c(0,2.5,5,7.5), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Most Outstanding Loans Belong to High-Balance Debtors, With 60% From Those with $60k+") +
theme_apricitas + theme(legend.position = "right") +
scale_fill_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-01-01")-(.1861*(today()-as.Date("2005-01-01"))), xmax = as.Date("2005-01-01")-(0.049*(today()-as.Date("2005-01-01"))), ymin = 0-(.3*7.5), ymax = 0) +
coord_cartesian(clip = "off")
ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = value/1000), color = "Department of Education Monthly Receipts", size = 1.25) +
xlab("Date")
ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = value/1000, color = "Department of Education Monthly Receipts"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 0.25, suffix = "B"),limits = c(0,7.5), breaks = c(0,2.5,5,7.5), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Most Outstanding Loans Belong to High-Balance Debtors, With 60% From Those with $60k+") +
theme_apricitas + theme(legend.position = "right") +
scale_fill_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-01-01")-(.1861*(today()-as.Date("2005-01-01"))), xmax = as.Date("2005-01-01")-(0.049*(today()-as.Date("2005-01-01"))), ymin = 0-(.3*7.5), ymax = 0) +
coord_cartesian(clip = "off")
ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = value/1000, color = "Department of Education Monthly Receipts"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 0.25, suffix = "B"),limits = c(0,7.5), breaks = c(0,2.5,5,7.5), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Most Outstanding Loans Belong to High-Balance Debtors, With 60% From Those with $60k+") +
theme_apricitas + theme(legend.position = c(0.5,0.25)) +
scale_color_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-01-01")-(.1861*(today()-as.Date("2005-01-01"))), xmax = as.Date("2005-01-01")-(0.049*(today()-as.Date("2005-01-01"))), ymin = 0-(.3*7.5), ymax = 0) +
coord_cartesian(clip = "off")
ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = value/1000, color = "Department of Education Monthly Receipts"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 0.25, suffix = "B"),limits = c(0,7.5), breaks = c(0,2.5,5,7.5), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Payments to the Department of Education, Most of them Student Loans, Have Hit a 10-Year Low") +
theme_apricitas + theme(legend.position = c(0.5,0.25)) +
scale_color_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-01-01")-(.1861*(today()-as.Date("2005-01-01"))), xmax = as.Date("2005-01-01")-(0.049*(today()-as.Date("2005-01-01"))), ymin = 0-(.3*7.5), ymax = 0) +
coord_cartesian(clip = "off")
DOE_TGA_DEPOSITS <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:in:(Education%20Department%20programs,Dept%20of%20Education%20(ED))") %>%
transmute(date = as.Date(record_date), value = transaction_mtd_amt) %>%
group_by(year = year(date), month = month(date)) %>%
filter(date == max(date), !(year == year(Sys.Date()) & month == month(Sys.Date())))
ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = value/1000, color = "Department of Education Monthly Receipts"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 0.25, suffix = "B"),limits = c(0,7.5), breaks = c(0,2.5,5,7.5), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Payments to the Department of Education, Most of them Student Loans, Have Hit a 10-Year Low") +
theme_apricitas + theme(legend.position = c(0.5,0.25)) +
scale_color_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-01-01")-(.1861*(today()-as.Date("2005-01-01"))), xmax = as.Date("2005-01-01")-(0.049*(today()-as.Date("2005-01-01"))), ymin = 0-(.3*7.5), ymax = 0) +
coord_cartesian(clip = "off")
DOE_TGA_DEPOSITS_GRAPH <- ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = value/1000, color = "Department of Education Monthly Receipts"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 0.25, suffix = "B"),limits = c(0,7.5), breaks = c(0,2.5,5,7.5), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Payments to the Department of Education, Most of them Student Loans, Have Hit a 10-Year Low") +
theme_apricitas + theme(legend.position = c(0.5,0.25)) +
scale_color_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-01-01")-(.1861*(today()-as.Date("2005-01-01"))), xmax = as.Date("2005-01-01")-(0.049*(today()-as.Date("2005-01-01"))), ymin = 0-(.3*7.5), ymax = 0) +
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = DOE_TGA_DEPOSITS_GRAPH, "DOE TGA DEPOSITS GRAPH.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #CAIRO GETS RID OF THE ANTI ALIASING ISSUE
ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = (value*12)/1000, color = "Department of Education Monthly Receipts, Annual Rate"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 0.25, suffix = "B"),limits = c(0,100), breaks = c(0,25,50,75,100), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Payments to the Department of Education, Most of them Student Loans, Have Hit a 10-Year Low") +
theme_apricitas + theme(legend.position = c(0.5,0.25)) +
scale_color_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-01-01")-(.1861*(today()-as.Date("2005-01-01"))), xmax = as.Date("2005-01-01")-(0.049*(today()-as.Date("2005-01-01"))), ymin = 0-(.3*7.5), ymax = 0) +
coord_cartesian(clip = "off")
ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = (value*12)/1000, color = "Department of Education Monthly Receipts, Annual Rate"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 0.25, suffix = "B"),limits = c(0,100), breaks = c(0,25,50,75,100), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Payments to the Department of Education, Most of them Student Loans, Have Hit a 10-Year Low") +
theme_apricitas + theme(legend.position = c(0.5,0.75)) +
scale_color_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-01-01")-(.1861*(today()-as.Date("2005-01-01"))), xmax = as.Date("2005-01-01")-(0.049*(today()-as.Date("2005-01-01"))), ymin = 0-(.3*7.5), ymax = 0) +
coord_cartesian(clip = "off")
ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = (value*12)/1000, color = "Department of Education Monthly Receipts, Annual Rate"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 1, suffix = "B"),limits = c(0,100), breaks = c(0,25,50,75,100), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Payments to the Department of Education, Most of them Student Loans, Have Hit a 10-Year Low") +
theme_apricitas + theme(legend.position = c(0.5,0.75)) +
scale_color_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-01-01")-(.1861*(today()-as.Date("2005-01-01"))), xmax = as.Date("2005-01-01")-(0.049*(today()-as.Date("2005-01-01"))), ymin = 0-(.3*100), ymax = 0) +
coord_cartesian(clip = "off")
DOE_TGA_DEPOSITS_GRAPH <- ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = (value*12)/1000, color = "Department of Education Monthly Receipts, Annual Rate"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 1, suffix = "B"),limits = c(0,100), breaks = c(0,25,50,75,100), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Payments to the Department of Education, Most of them Student Loans, Have Hit a 10-Year Low") +
theme_apricitas + theme(legend.position = c(0.5,0.75)) +
scale_color_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-01-01")-(.1861*(today()-as.Date("2005-01-01"))), xmax = as.Date("2005-01-01")-(0.049*(today()-as.Date("2005-01-01"))), ymin = 0-(.3*100), ymax = 0) +
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = DOE_TGA_DEPOSITS_GRAPH, "DOE TGA DEPOSITS GRAPH.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #CAIRO GETS RID OF THE ANTI ALIASING ISSUE
DOE_TGA_DEPOSITS_GRAPH <- ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = (value*12)/1000, color = "Department of Education Monthly Receipts, Annual Rate"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 1, suffix = "B"),limits = c(0,100), breaks = c(0,25,50,75,100), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Payments to the Department of Education, Most of them Student Loans, Have Hit a 10-Year Low") +
theme_apricitas + theme(legend.position = c(0.5,0.9)) +
scale_color_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-01-01")-(.1861*(today()-as.Date("2005-01-01"))), xmax = as.Date("2005-01-01")-(0.049*(today()-as.Date("2005-01-01"))), ymin = 0-(.3*100), ymax = 0) +
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = DOE_TGA_DEPOSITS_GRAPH, "DOE TGA DEPOSITS GRAPH.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #CAIRO GETS RID OF THE ANTI ALIASING ISSUE
DOE_TGA_DEPOSITS_GRAPH <- ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = (value*12)/1000, color = "Department of Education Monthly Receipts, Annual Rate"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 1, suffix = "B"),limits = c(0,100), breaks = c(0,25,50,75,100), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Payments to the Department of Education, Most of them Student Loans, Have Hit a 10-Year Low") +
theme_apricitas + theme(legend.position = c(0.5,0.95)) +
scale_color_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-01-01")-(.1861*(today()-as.Date("2005-01-01"))), xmax = as.Date("2005-01-01")-(0.049*(today()-as.Date("2005-01-01"))), ymin = 0-(.3*100), ymax = 0) +
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = DOE_TGA_DEPOSITS_GRAPH, "DOE TGA DEPOSITS GRAPH.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #CAIRO GETS RID OF THE ANTI ALIASING ISSUE
DOE_TGA_DEPOSITS_GRAPH <- ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = (value*12)/1000, color = "Department of Education Monthly Receipts, Annual Rate"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 1, suffix = "B"),limits = c(0,100), breaks = c(0,25,50,75,100), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Payments to the Department of Education, Most of them Student Loans, Have Hit a 10-Year Low") +
theme_apricitas + theme(legend.position = c(0.5,0.95)) +
theme(plot.title = element_text(size = 23)) +
scale_color_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-01-01")-(.1861*(today()-as.Date("2005-01-01"))), xmax = as.Date("2005-01-01")-(0.049*(today()-as.Date("2005-01-01"))), ymin = 0-(.3*100), ymax = 0) +
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = DOE_TGA_DEPOSITS_GRAPH, "DOE TGA DEPOSITS GRAPH.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #CAIRO GETS RID OF THE ANTI ALIASING ISSUE
DOE_TGA_DEPOSITS_GRAPH <- ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = (value*12)/1000, color = "Department of Education Monthly Receipts, Annual Rate"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 1, suffix = "B"),limits = c(0,100), breaks = c(0,25,50,75,100), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Payments to the Department of Education, Most of them Student Loans, Have Hit a 10-Year Low") +
theme_apricitas + theme(legend.position = c(0.5,0.95)) +
theme(plot.title = element_text(size = 23)) +
scale_color_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-10-01")-(.1861*(today()-as.Date("2005-10-01"))), xmax = as.Date("2005-10-01")-(0.049*(today()-as.Date("2005-10-01"))), ymin = 0-(.3*100), ymax = 0) +
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = DOE_TGA_DEPOSITS_GRAPH, "DOE TGA DEPOSITS GRAPH.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #CAIRO GETS RID OF THE ANTI ALIASING ISSUE
DOE_TGA_DEPOSITS_GRAPH <- ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = (value*12)/1000, color = "Department of Education Monthly Receipts, Annual Rate"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 1, suffix = "B"),limits = c(0,100), breaks = c(25,50,75,100), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Payments to the Department of Education, Most of them Student Loans, Have Hit a 10-Year Low") +
theme_apricitas + theme(legend.position = c(0.5,0.95)) +
theme(plot.title = element_text(size = 23)) +
scale_color_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-10-01")-(.1861*(today()-as.Date("2005-10-01"))), xmax = as.Date("2005-10-01")-(0.049*(today()-as.Date("2005-10-01"))), ymin = 0-(.3*100), ymax = 0) +
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = DOE_TGA_DEPOSITS_GRAPH, "DOE TGA DEPOSITS GRAPH.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #CAIRO GETS RID OF THE ANTI ALIASING ISSUE
DOE_TGA_DEPOSITS_GRAPH <- ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = (value*12)/1000, color = "Department of Education Monthly Receipts, Annual Rate (TGA)"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 1, suffix = "B"),limits = c(0,100), breaks = c(25,50,75,100), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Payments to the Department of Education, Most of them Student Loans, Have Hit a 10-Year Low") +
theme_apricitas + theme(legend.position = c(0.5,0.95)) +
theme(plot.title = element_text(size = 23)) +
scale_color_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-10-01")-(.1861*(today()-as.Date("2005-10-01"))), xmax = as.Date("2005-10-01")-(0.049*(today()-as.Date("2005-10-01"))), ymin = 0-(.3*100), ymax = 0) +
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = DOE_TGA_DEPOSITS_GRAPH, "DOE TGA DEPOSITS GRAPH.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #CAIRO GETS RID OF THE ANTI ALIASING ISSUE
DOE_TGA_DEPOSITS <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:in:(Education%20Department%20programs,Dept%20of%20Education%20(ED))") %>%
transmute(date = as.Date(record_date), value = transaction_mtd_amt) %>%
group_by(year = year(date), month = month(date)) %>%
filter(date == max(date), !(year == year(Sys.Date()) & month == month(Sys.Date()))) %>%
subset(date>= as.Date("2022-06-01"))
DOE_TGA_DEPOSITS_GRAPH <- ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = (value*12)/1000, color = "Department of Education Monthly Receipts, Annual Rate (TGA)"), size = 1.25) +
xlab("Date") +
#scale_y_continuous(labels = scales::dollar_format(accuracy = 1, suffix = "B"),limits = c(0,100), breaks = c(25,50,75,100), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Payments to the Department of Education, Most of them Student Loans, Have Hit a 10-Year Low") +
theme_apricitas + theme(legend.position = c(0.5,0.95)) +
theme(plot.title = element_text(size = 23)) +
scale_color_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-10-01")-(.1861*(today()-as.Date("2005-10-01"))), xmax = as.Date("2005-10-01")-(0.049*(today()-as.Date("2005-10-01"))), ymin = 0-(.3*100), ymax = 0) +
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = DOE_TGA_DEPOSITS_GRAPH, "DOE TGA DEPOSITS GRAPH.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #CAIRO GETS RID OF THE ANTI ALIASING ISSUE
DOE_TGA_DEPOSITS <- read.csv("https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v1/accounting/dts/dts_table_2?format=csv&page[size]=10000&fields=record_date,transaction_type,transaction_catg,transaction_mtd_amt&filter=transaction_type:eq:Deposits,transaction_catg:in:(Education%20Department%20programs,Dept%20of%20Education%20(ED))") %>%
transmute(date = as.Date(record_date), value = transaction_mtd_amt) %>%
group_by(year = year(date), month = month(date)) %>%
filter(date == max(date), !(year == year(Sys.Date()) & month == month(Sys.Date())))
DOE_TGA_DEPOSITS_GRAPH <- ggplot() + #plotting components of annual inflation
geom_line(data = DOE_TGA_DEPOSITS, aes(x = date, y = (value*12)/1000, color = "Department of Education Monthly Receipts, Annual Rate (TGA)"), size = 1.25) +
xlab("Date") +
scale_y_continuous(labels = scales::dollar_format(accuracy = 1, suffix = "B"),limits = c(0,100), breaks = c(25,50,75,100), expand = c(0,0)) +
ylab("Billions of Dollars") +
ggtitle("Monthly Payments to the Department of Education") +
labs(caption = "Graph created by @JosephPolitano using US Treasury data",subtitle = "Payments to the Department of Education, Most of them Student Loans, Have Hit a 10-Year Low") +
theme_apricitas + theme(legend.position = c(0.5,0.95)) +
theme(plot.title = element_text(size = 23)) +
scale_color_manual(name = NULL, values = c("#FFE98F","#00A99D","#EE6055","#6A4C93","#3083DC","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2005-10-01")-(.1861*(today()-as.Date("2005-10-01"))), xmax = as.Date("2005-10-01")-(0.049*(today()-as.Date("2005-10-01"))), ymin = 0-(.3*100), ymax = 0) +
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = DOE_TGA_DEPOSITS_GRAPH, "DOE TGA DEPOSITS GRAPH.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #CAIRO GETS RID OF THE ANTI ALIASING ISSUE
Manheim_Bulk <- read.xlsx("https://manheim.go-vip.net/publish/wp-content/uploads/sites/2/2023/06/ManheimUsedVehicleValueIndex-web-table-data.xlsx") %>%
mutate(date = seq.Date(from = as.Date("1997-01-01"), by = "month", length.out = nrow(.))) %>%
subset(date >= as.Date("2018-11-01"))
Manheim_Bulk <- read.xlsx("https://manheim.go-vip.net/publish/wp-content/uploads/sites/2/2023/05/ManheimUsedVehicleValueIndex-web-table-data.xlsx") %>%
mutate(date = seq.Date(from = as.Date("1997-01-01"), by = "month", length.out = nrow(.))) %>%
subset(date >= as.Date("2018-11-01"))
View(Manheim_Bulk)
Manheim_Bulk <- read.xlsx("https://site.manheim.com/wp-content/uploads/sites/2/2023/07/June-2023-MUVVI-Spreadsheet.xlsx") %>%
mutate(date = seq.Date(from = as.Date("1997-01-01"), by = "month", length.out = nrow(.))) %>%
subset(date >= as.Date("2018-11-01"))
CPIUSEDCARS <- bls_api("CUSR0000SETA02", startyear = 2017, endyear = 2023, calculations = TRUE, Sys.getenv("BLS_KEY"))%>% #headline cpi data
mutate(date = as.Date(as.yearmon(paste(periodName, year), "%b %Y"))) %>%
subset(date >= as.Date("2019-01-01"))
ggplot() + #plotting "Used Cars and Trucks" and "Mannheim" price Indexes
geom_line(data=CPIUSEDCARS, aes(x=date,y= (value/value[nrow(CPIUSEDCARS)])*100 ,color= "CPI: Used Cars and Trucks"), size = 1.25) +
geom_line(data=subset(Manheim_Bulk, date > as.Date("2018-12-31")), aes(x=date,y= (`Index.(1/97.=.100)`/`Index.(1/97.=.100)`[1])*100 ,color= "Manheim Used Vehicles Value Index"), size = 1.25) +
xlab("Date") +
scale_y_continuous(limits = c(90,200), breaks = c(90,120,150,180), expand = c(0,0)) +
ylab("Index, January 2019 = 100") +
ggtitle("Pandemic Prices") +
labs(caption = "Graph created by @JosephPolitano using BLS and Manheim data",subtitle = "Manheim Wholesale Data Could Be Giving Early Indications of Movements in Used Car Prices") +
theme_apricitas + theme(legend.position = c(.30,.875)) +
scale_color_manual(name= "January 2019 = 100",values = c("#00A99D","#FFE98F","#EE6055","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2019-01-01")-(.1861*(today()-as.Date("2019-01-01"))), xmax = as.Date("2019-01-01")-(0.049*(today()-as.Date("2019-01-01"))), ymin = 90-(.3*110), ymax = 90) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
CPI_Manheim_Used_Car_Vehicles_Graph <- ggplot() + #plotting "Used Cars and Trucks" and "Mannheim" price Indexes
geom_line(data=CPIUSEDCARS, aes(x=date,y= (value/value[nrow(CPIUSEDCARS)])*100 ,color= "CPI: Used Cars and Trucks"), size = 1.25) +
geom_line(data=subset(Manheim_Bulk, date > as.Date("2018-12-31")), aes(x=date,y= (`Index.(1/97.=.100)`/`Index.(1/97.=.100)`[1])*100 ,color= "Manheim Used Vehicles Value Index"), size = 1.25) +
xlab("Date") +
scale_y_continuous(limits = c(90,200), breaks = c(90,120,150,180), expand = c(0,0)) +
ylab("Index, January 2019 = 100") +
ggtitle("Pandemic Prices") +
labs(caption = "Graph created by @JosephPolitano using BLS and Manheim data",subtitle = "Manheim Wholesale Data Could Be Giving Early Indications of Movements in Used Car Prices") +
theme_apricitas + theme(legend.position = c(.30,.875)) +
scale_color_manual(name= "January 2019 = 100",values = c("#00A99D","#FFE98F","#EE6055","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2019-01-01")-(.1861*(today()-as.Date("2019-01-01"))), xmax = as.Date("2019-01-01")-(0.049*(today()-as.Date("2019-01-01"))), ymin = 90-(.3*110), ymax = 90) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = CPI_Manheim_Used_Car_Vehicles_Graph, "CPI Manheim Used Vehicles.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
setwd("~/GitHub/Apricitas/Global Car Shortage")
Manheim_Bulk <- read.xlsx("https://site.manheim.com/wp-content/uploads/sites/2/2023/07/June-2023-MUVVI-Spreadsheet.xlsx") %>%
mutate(date = seq.Date(from = as.Date("1997-01-01"), by = "month", length.out = nrow(.))) %>%
subset(date >= as.Date("2018-11-01"))
Used_NSA_prices <- fredr("CUUR0000SETA02", observation_start = as.Date("2019-01-01"))
CPI_Manheim_Used_Car_Vehicles_NSA_Graph <- ggplot() + #plotting "Used Cars and Trucks" and "Mannheim" price Indexes
geom_line(data=Used_NSA_prices, aes(x=date,y= (value/value[1])*100 ,color= "CPI: Used Cars and Trucks NSA"), size = 1.25) +
geom_line(data=subset(Manheim_Bulk), aes(x=date + 60,y= (`Manheim.Index.$.amount.NSA`/`Manheim.Index.$.amount.NSA`[1])*100 ,color= "Manheim Used Vehicles Value Index NSA, 2 Months Forward"), size = 1.25) +
xlab("Date") +
scale_y_continuous(limits = c(90,200), breaks = c(90,120,150,180), expand = c(0,0)) +
ylab("Index, January 2019 = 100") +
ggtitle("Pandemic Prices") +
labs(caption = "Graph created by @JosephPolitano using BLS and Manheim data",subtitle = "Removing Seasonal Adjustments, it's Clear Manheim Consistently Leads CPI by About 2 Months") +
theme_apricitas + theme(legend.position = c(.40,.875)) +
scale_color_manual(name= "January 2019 = 100",values = c("#00A99D","#FFE98F","#EE6055","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2019-01-01")-(.1861*(today()-as.Date("2019-01-01"))), xmax = as.Date("2019-01-01")-(0.049*(today()-as.Date("2019-01-01"))), ymin = 90-(.3*110), ymax = 90) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = CPI_Manheim_Used_Car_Vehicles_NSA_Graph, "Manheim Used NSA.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #CAIRO GETS RID OF THE ANTI ALIASING ISSUE
Manheim_Bulk <- read.xlsx("https://site.manheim.com/wp-content/uploads/sites/2/2023/07/June-2023-MUVVI-Spreadsheet.xlsx") %>%
mutate(date = seq.Date(from = as.Date("1997-01-01"), by = "month", length.out = nrow(.))) %>%
subset(date >= as.Date("2018-11-01"))
Used_NSA_prices <- fredr("CUUR0000SETA02", observation_start = as.Date("2019-01-01"))
CPI_Manheim_Used_Car_Vehicles_NSA_Graph <- ggplot() + #plotting "Used Cars and Trucks" and "Mannheim" price Indexes
geom_line(data=Used_NSA_prices, aes(x=date,y= (value/value[1])*100 ,color= "CPI: Used Cars and Trucks NSA"), size = 1.25) +
geom_line(data=subset(Manheim_Bulk), aes(x=date + 60,y= (`Manheim.Index.$.amount.NSA`/`Manheim.Index.$.amount.NSA`[1])*100 ,color= "Manheim Used Vehicles Value Index NSA, 2 Months Forward"), size = 1.25) +
xlab("Date") +
scale_y_continuous(limits = c(90,200), breaks = c(90,120,150,180), expand = c(0,0)) +
ylab("Index, January 2019 = 100") +
ggtitle("Pandemic Prices") +
labs(caption = "Graph created by @JosephPolitano using BLS and Manheim data",subtitle = "Removing Seasonal Adjustments, it's Clear Manheim Consistently Leads CPI by About 2 Months") +
theme_apricitas + theme(legend.position = c(.40,.875)) +
scale_color_manual(name= "January 2019 = 100",values = c("#00A99D","#FFE98F","#EE6055","#A7ACD9","#9A348E")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2019-01-01")-(.1861*(today()-as.Date("2019-01-01"))), xmax = as.Date("2019-01-01")-(0.049*(today()-as.Date("2019-01-01"))), ymin = 90-(.3*110), ymax = 90) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = CPI_Manheim_Used_Car_Vehicles_NSA_Graph, "Manheim Used NSA.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #CAIRO GETS RID OF THE ANTI ALIASING ISSUE
