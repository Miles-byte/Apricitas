top = text_grob("Zillow 12M Home Value Change in Western Metros
", face = "bold", size = 27, color = "white")) + bgcolor("#252A32")
ggsave(dpi = "retina",plot = WESTERN_ARRANGE, "WEST ARRANGE.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
#SOUTHERN
SOUTHERN_ARRANGE <- ggarrange(DFW,HOU,ATL,MIA,TAMPA,ORL,CHAR,SAN_ANTONIO,AUSTIN, ncol = 3, nrow = 3, common.legend = TRUE, legend = "right") + bgcolor("#252A32") + border("#252A32")
SOUTHERN_ARRANGE <- annotate_figure(SOUTHERN_ARRANGE,
top = text_grob("Zillow 12M Home Value Change in Southern Metros
", face = "bold", size = 26, color = "white")) + bgcolor("#252A32")
ggsave(dpi = "retina",plot = SOUTHERN_ARRANGE, "SOUTH ARRANGE.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
#MIDWEST
MIDWEST_ARRANGE <- ggarrange(CHI,DET,MIN,STL,PITT,CIN,KC,COL,IND, ncol = 3, nrow = 3, common.legend = TRUE, legend = "right") + bgcolor("#252A32") + border("#252A32")
MIDWEST_ARRANGE <- annotate_figure(MIDWEST_ARRANGE,
top = text_grob("Zillow 12M Home Value Change in Midwestern Metros
", face = "bold", size = 25, color = "white")) + bgcolor("#252A32")
ggsave(dpi = "retina",plot = MIDWEST_ARRANGE, "MIDWEST ARRANGE.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
NORTHEAST_ARRANGE <- ggarrange(NYC,DC_PLUS_BAL,PHI,BOS, ncol = 2, nrow = 2, common.legend = TRUE, legend = "right") + bgcolor("#252A32") + border("#252A32")
NORTHEAST_ARRANGE <- annotate_figure(NORTHEAST_ARRANGE,
top = text_grob("Zillow 12M Home Value Change in Northeastern Metros
", face = "bold", size = 24, color = "white")) + bgcolor("#252A32")
ggsave(dpi = "retina",plot = NORTHEAST_ARRANGE, "NORTHEAST ARRANGE.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
# states_boundaries <- states(class = "sf")
#
# DONUT_DC_STATES <- subset(states_boundaries, STUSPS %in% c("DC", "MD", "VA"))
#
# DONUT_DC_STATES <- st_transform(DONUT_DC_STATES, st_crs(ZIP_ZHVI_MERGE))
ZIP_DC <- ZIP_ZHVI_MERGE %>%
subset(State == "DC")
ZIP_DC <- st_union(ZIP_DC) %>%
st_cast("POLYGON")
ZIP_DC <- nngeo::st_remove_holes(ZIP_DC)
DONUT_DC <- ggplot() +
geom_sf(data = subset(ZIP_ZHVI_MERGE, State %in% c("DC","MD","VA") & CountyName %in% c("District of Columbia","Arlington County","Prince Georges County","Fairfax County","Loudoun County","Prince William County","Charles County","Manassas Park City","Manassas City","Fairfax County","Falls Church City","Alexandria City","Howard County","Anne Arundel County")|
(State == "MD" & CountyName == "Montgomery County")), aes(fill = value, color = value))+
#geom_sf(data = DONUT_DC_STATES, color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
geom_sf(data = ZIP_DC, fill = NA, color = "black", lwd = 0.40) +
scale_fill_gradient(high = "#00A99D",
low = "#EE6055",
space = "Lab",
na.value = "grey50",
guide = "colourbar",
aesthetics = "fill",
breaks = c(-0.1,-0.05,0,0.05,0.1),
labels = c("-10+%","-5%","+0%","+5%","+10+%"),
limits = c(-0.10,0.10)) +
scale_color_gradient(high = "#00A99D",
low = "#EE6055",
space = "Lab",
na.value = "grey50",
guide = NULL,
aesthetics = "color",
breaks = c(-0.1,-0.05,0,0.05,0.1),
labels = c("-10+%","-5%","+0%","+5%","+10+%"),
limits = c(-0.10,0.10)) +
ggtitle("Washington DC") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 16,hjust = 0.5))
DONUT_NYC_STATES <- subset(states_boundaries, STUSPS %in% c("NY", "NJ", "CT"))
DONUT_NYC_STATES <- st_transform(DONUT_NYC_STATES, st_crs(ZIP_ZHVI_MERGE))
ZIP_NYC <- ZIP_ZHVI_MERGE %>%
subset(State == "NY") %>%
subset(City == "New York")
ZIP_NYC <- st_union(ZIP_NYC) %>%
st_cast("POLYGON")
ZIP_NYC <- nngeo::st_remove_holes(ZIP_NYC)
DONUT_NYC <- ggplot() +
geom_sf(data = subset(ZIP_ZHVI_MERGE,
(State %in% c("NY","NJ","CT") & CountyName %in% c("New York County","Kings County","Queens County","Richmond County","Bronx County","Nassau County","Suffolk County","Westchester County","Rockland County","Putnam County","Bergen County","Hudson County","Passaic County","Union County","Middlesex County","Monmouth County","Somerset County","Morris County","Fairfield County","New Haven County"))
| (State == "NJ" & CountyName == "Essex County")),
aes(fill = value, color = value)) +#geom_sf(data = DONUT_DC_STATES, color = "black", fill = NA, lwd = 0.65) + # Black borders for states
#geom_sf(data = DONUT_NYC_STATES, color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
geom_sf(data = ZIP_NYC, fill = NA, color = "black", lwd = 0.40) +
scale_fill_gradient(high = "#00A99D",
low = "#EE6055",
space = "Lab",
na.value = "grey50",
guide = "colourbar",
aesthetics = "fill",
breaks = c(-0.1,-0.05,0,0.05,0.1),
labels = c("-10+%","-5%","+0%","+5%","+10+%"),
limits = c(-0.10,0.10)) +
scale_color_gradient(high = "#00A99D",
low = "#EE6055",
space = "Lab",
na.value = "grey50",
guide = NULL,
aesthetics = "color",
breaks = c(-0.1,-0.05,0,0.05,0.1),
labels = c("-10+%","-5%","+0%","+5%","+10+%"),
limits = c(-0.10,0.10)) +
ggtitle("New York") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 16,hjust = 0.5))
DONUT_CHI_STATES <- subset(states_boundaries, STUSPS %in% c("IL","IN","WI"))
DONUT_CHI_STATES <- st_transform(DONUT_CHI_STATES, st_crs(ZIP_ZHVI_MERGE))
ZIP_Chicago <- ZIP_ZHVI_MERGE %>%
subset(State == "IL") %>%
subset(City == "Chicago")
ZIP_Chicago <- st_union(ZIP_Chicago) %>%
st_cast("POLYGON")
ZIP_Chicago <- nngeo::st_remove_holes(ZIP_Chicago)
DONUT_CHI <- ggplot() +
geom_sf(data = subset(ZIP_ZHVI_MERGE, State %in% c("IL","IN","WI") & CountyName %in% c("Cook County","Lake County","DuPage County","Will County","Lake County","Kenosha County")),
aes(fill = value, color = value)) +#geom_sf(data = DONUT_DC_STATES, color = "black", fill = NA, lwd = 0.65) + # Black borders for states
#geom_sf(data = DONUT_CHI_STATES, color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
geom_sf(data = ZIP_Chicago, fill = NA, color = "black", lwd = 0.40) +
scale_fill_gradient(high = "#00A99D",
low = "#EE6055",
space = "Lab",
na.value = "grey50",
guide = "colourbar",
aesthetics = "fill",
breaks = c(-0.1,-0.05,0,0.05,0.1),
labels = c("-10+%","-5%","+0%","+5%","+10+%"),
limits = c(-0.10,0.10)) +
scale_color_gradient(high = "#00A99D",
low = "#EE6055",
space = "Lab",
na.value = "grey50",
guide = NULL,
aesthetics = "color",
breaks = c(-0.1,-0.05,0,0.05,0.1),
labels = c("-10+%","-5%","+0%","+5%","+10+%"),
limits = c(-0.10,0.10)) +
ggtitle("Chicago") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 16,hjust = 0.5))
ZIP_Boston <- ZIP_ZHVI_MERGE %>%
subset(State == "MA") %>%
subset(City == "Boston")
ZIP_Boston <- st_union(ZIP_Boston) %>%
st_cast("POLYGON")
ZIP_Boston <- nngeo::st_remove_holes(ZIP_Boston)
DONUT_BOS <- ggplot() +
geom_sf(data = subset(ZIP_ZHVI_MERGE, State %in% c("MA") & CountyName %in% c("Suffolk County","Essex County","Middlesex County","Norfolk County","Plymouth County","Bristol County")),
aes(fill = value, color = value)) +
geom_sf(data = ZIP_Boston, fill = NA, color = "black", lwd = 0.40) +
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_gradient(high = "#00A99D",
low = "#EE6055",
space = "Lab",
na.value = "grey50",
guide = "colourbar",
aesthetics = "fill",
breaks = c(-0.1,-0.05,0,0.05,0.1),
labels = c("-10+%","-5%","+0%","+5%","+10+%"),
limits = c(-0.10,0.10)) +
scale_color_gradient(high = "#00A99D",
low = "#EE6055",
space = "Lab",
na.value = "grey50",
guide = NULL,
aesthetics = "color",
breaks = c(-0.1,-0.05,0,0.05,0.1),
labels = c("-10+%","-5%","+0%","+5%","+10+%"),
limits = c(-0.10,0.10)) +
ggtitle("Boston") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 16,hjust = 0.5))
ggsave(dpi = "retina",plot = DONUT_BOS, "DONUT BOS.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
DONUT_ZHVI_ARRANGE <- ggarrange(DONUT_NYC,DONUT_CHI,DONUT_BOS,DONUT_DC,  ncol = 2, nrow = 2, common.legend = TRUE, legend = "right") + bgcolor("#252A32") + border("#252A32")
DONUT_ZHVI_ARRANGE <- annotate_figure(DONUT_ZHVI_ARRANGE,top = text_grob("The 'Donut Effect' is Hitting Many Citiesâ€”Falls in Downtown Home Prices as Suburbs Hold Up Better
", face = "bold", size = 10, color = "white")) + bgcolor("#252A32") + border("#252A32")
DONUT_ZHVI_ARRANGE <- annotate_figure(DONUT_ZHVI_ARRANGE,
top = text_grob("Zillow 12M Home Value Change", face = "bold", size = 28, color = "white")) + bgcolor("#252A32") + border("#252A32")
ggsave(dpi = "retina",plot = DONUT_ZHVI_ARRANGE, "DONUT ZHVI ARRANGE.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = FIXED_INVESTMENT_Residential_Graph, "Fixed Investment Residential.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = REDFIN_LIST_PRICE_Graph, "Redfin Listing Prices.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = THIRTY_YEAR_FIXED_Graph, "Thirty Year Fixed.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = STARTS_COMPLETIONS_Graph, "Starts Completions.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = UNDER_CONSTRUCTION_Graph, "Under Construction.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = SFH_MF_Graph, "Single Family Multi Family.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = TOTAL_HOUSING_GROWTH_Graph, "Total Housing Growth.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = STARTS_PERCAPITA_Graph, "Starts Per Capita.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = STARTS_Graph, "Starts.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = AUTHORIZED_NOT_STARTED_Graph, "Authorized Not Started.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = VACANCY_RATE_Graph, "Vacancy Rate.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = SF_MF_CPI_Graph, "SF MF CPI.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = SFH_STARTS_COMPS_Graph, "SF Starts Comps.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = LISTINGS_MEDIAN_Graph, "Listings Median.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = LISTINGS_CUT_SHARE_Graph, "Cut Share.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = TSY_MBS_Graph, "TSY MBS.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = CREDIT_RESIDENTIAL_Graph, "Credit and Residential Employment.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = PERMITS_Graph, "Permits.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = PERMIT_SFH_Graph, "Permits SFH.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = Household_Equity, "Household Equity.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = PERMITS_STATE_Graph, "Permits.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = RENT_ABC_Graph, "RENT ABC.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = RENT_STAR_CITIES_Graph, "RENT STAR.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = RENT_SMALL_CITIES_Graph, "RENT SMALL.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = REDFIN_Graph, "REDFIN.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = PERMITS_Dallas_Graph, "Dallas.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = PERMITS_SF_Boise_Graph, "SF Boise.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ggsave(dpi = "retina",plot = PERMITS_SF_Lakeland_Graph, "SF Lakeland.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
PCT_MIDWEST <- ggplot() +
geom_sf(data = subset(ZIP_ACS_MERGE, GEOID20 %in% get_zctas_by_state(c("OH","MI","WI","MN","IA","MO","KS","NE","SD","ND","IL","KY","IN"))), aes(fill = value_cut, color = value_cut)) +
geom_sf(data = subset(states, STUSPS %in% c("OH","MI","WI","MN","IA","MO","KS","NE","SD","ND","IL","KY","IN")), color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
na.value = "grey50",
guide = "legend",
breaks = c("<30%", "30-35%", "35-40%", "40-45%", ">45%"),
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
scale_color_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
na.value = "grey50",
guide = NULL,
breaks = c("<30%", "30-35%", "35-40%", "40-45%", ">45%"),
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
ggtitle("    Percent of Homeowners Without a Mortgage") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 24,hjust = 0.5))
states <- states(2020, resolution = "500k", cb = TRUE)
PCT_MIDWEST <- ggplot() +
geom_sf(data = subset(ZIP_ACS_MERGE, GEOID20 %in% get_zctas_by_state(c("OH","MI","WI","MN","IA","MO","KS","NE","SD","ND","IL","KY","IN"))), aes(fill = value_cut, color = value_cut)) +
geom_sf(data = subset(states, STUSPS %in% c("OH","MI","WI","MN","IA","MO","KS","NE","SD","ND","IL","KY","IN")), color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
na.value = "grey50",
guide = "legend",
breaks = c("<30%", "30-35%", "35-40%", "40-45%", ">45%"),
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
scale_color_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
na.value = "grey50",
guide = NULL,
breaks = c("<30%", "30-35%", "35-40%", "40-45%", ">45%"),
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
ggtitle("    Percent of Homeowners Without a Mortgage") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 24,hjust = 0.5))
ggsave(dpi = "retina",plot = PCT_MIDWEST, "PCT MIDWEST.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
PCT_MIDWEST <- ggplot() +
geom_sf(data = subset(ZIP_ACS_MERGE, GEOID20 %in% get_zctas_by_state(c("OH","MI","WI","MN","IA","MO","KS","NE","SD","ND","IL","KY","IN")) & value != NA), aes(fill = value_cut, color = value_cut)) +
geom_sf(data = subset(states, STUSPS %in% c("OH","MI","WI","MN","IA","MO","KS","NE","SD","ND","IL","KY","IN")), color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
na.value = "grey50",
guide = "legend",
breaks = c("<30%", "30-35%", "35-40%", "40-45%", ">45%"),
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
scale_color_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
na.value = "grey50",
guide = NULL,
breaks = c("<30%", "30-35%", "35-40%", "40-45%", ">45%"),
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
ggtitle("    Percent of Homeowners Without a Mortgage") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 24,hjust = 0.5))
ggsave(dpi = "retina",plot = PCT_MIDWEST, "PCT MIDWEST.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
PCT_MIDWEST <- ggplot() +
geom_sf(data = subset(ZIP_ACS_MERGE, GEOID20 %in% get_zctas_by_state(c("OH","MI","WI","MN","IA","MO","KS","NE","SD","ND","IL","KY","IN")) & value !is.na), aes(fill = value_cut, color = value_cut)) +
geom_sf(data = subset(states, STUSPS %in% c("OH","MI","WI","MN","IA","MO","KS","NE","SD","ND","IL","KY","IN")), color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = "legend",
breaks = c("<30%", "30-35%", "35-40%", "40-45%", ">45%"),
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
scale_color_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = NULL,
breaks = c("<30%", "30-35%", "35-40%", "40-45%", ">45%"),
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
ggtitle("    Percent of Homeowners Without a Mortgage") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 24,hjust = 0.5))
PCT_MIDWEST <- ggplot() +
geom_sf(data = subset(ZIP_ACS_MERGE, GEOID20 %in% get_zctas_by_state(c("OH","MI","WI","MN","IA","MO","KS","NE","SD","ND","IL","KY","IN")) & value !is.na()), aes(fill = value_cut, color = value_cut)) +
geom_sf(data = subset(states, STUSPS %in% c("OH","MI","WI","MN","IA","MO","KS","NE","SD","ND","IL","KY","IN")), color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = "legend",
breaks = c("<30%", "30-35%", "35-40%", "40-45%", ">45%"),
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
scale_color_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = NULL,
breaks = c("<30%", "30-35%", "35-40%", "40-45%", ">45%"),
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
ggtitle("    Percent of Homeowners Without a Mortgage") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 24,hjust = 0.5))
PCT_MIDWEST <- ggplot() +
geom_sf(data = subset(ZIP_ACS_MERGE, GEOID20 %in% get_zctas_by_state(c("OH","MI","WI","MN","IA","MO","KS","NE","SD","ND","IL","KY","IN"))), aes(fill = value_cut, color = value_cut)) +
geom_sf(data = subset(states, STUSPS %in% c("OH","MI","WI","MN","IA","MO","KS","NE","SD","ND","IL","KY","IN")), color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = "legend",
breaks = c("<30%", "30-35%", "35-40%", "40-45%", ">45%"),
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
scale_color_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = NULL,
breaks = c("<30%", "30-35%", "35-40%", "40-45%", ">45%"),
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
ggtitle("    Percent of Homeowners Without a Mortgage") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 24,hjust = 0.5))
ggsave(dpi = "retina",plot = PCT_MIDWEST, "PCT MIDWEST.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
setwd("~/GitHub/Apricitas/Have Mortgage Rates Frozen the Housing Market")
PCT_DC <- ggplot() +
geom_sf(data = subset(ZIP_ACS_MERGE, GEOID20 %in% get_zctas_by_state(c("DC","MD","VA"))), aes(fill = value_cut, color = value_cut)) +
geom_sf(data = subset(states, STUSPS %in% c("DC","MD","VA")), color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = "legend",
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
scale_color_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = NULL,
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
ggtitle("    Percent of Homeowners Without a Mortgage") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 24,hjust = 0.5))
ggsave(dpi = "retina",plot = PCT_DC, "PCT DC graph.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #cairo gets rid of anti aliasing
PCT_WEST <- ggplot() +
geom_sf(data = subset(ZIP_ACS_MERGE, GEOID20 %in% get_zctas_by_state(c("CA","OR","WA","ID","UT","NV","NM","AZ","CO","MT","WY"))), aes(fill = value_cut, color = value_cut)) +
geom_sf(data = subset(states, STUSPS %in% c("CA","OR","WA","ID","UT","NV","NM","AZ","CO","MT","WY")), color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = "legend",
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
scale_color_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = NULL,
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
ggtitle("    Percent of Homeowners Without a Mortgage") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 24,hjust = 0.5))
ggsave(dpi = "retina",plot = PCT_WEST, "PCT WEST.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
PCT_NORTHEAST <- ggplot() +
geom_sf(data = subset(ZIP_ACS_MERGE, GEOID20 %in% get_zctas_by_state(c("ME","NH","VT","RI","NJ","NY","PA","MA","CT","PA","DC","MD","VA","WV"))), aes(fill = value_cut, color = value_cut)) +
geom_sf(data = subset(states, STUSPS %in% c("ME","NH","VT","RI","NJ","NY","PA","MA","CT","PA","DC","MD","VA","WV")), color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = "legend",
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
scale_color_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = NULL,
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
ggtitle("    Percent of Homeowners Without a Mortgage") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 24,hjust = 0.5))
ggsave(dpi = "retina",plot = PCT_NORTHEAST, "PCT NORTHEAST.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
PCT_SOUTH <- ggplot() +
geom_sf(data = subset(ZIP_ACS_MERGE, GEOID20 %in% get_zctas_by_state(c("NC","SC","GA","AL","MS","FL","LA","TX","TN","AR","OK"))), aes(fill = value_cut, color = value_cut)) +
geom_sf(data = subset(states, STUSPS %in% c("NC","SC","GA","AL","MS","FL","LA","TX","TN","AR","OK")), color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = "legend",
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
scale_color_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = NULL,
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
ggtitle("    Percent of Homeowners Without a Mortgage") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 24,hjust = 0.5))
ggsave(dpi = "retina",plot = PCT_SOUTH, "PCT SOUTH.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
PCT_MIDWEST <- ggplot() +
geom_sf(data = subset(ZIP_ACS_MERGE, GEOID20 %in% get_zctas_by_state(c("OH","MI","WI","MN","IA","MO","KS","NE","SD","ND","IL","KY","IN"))), aes(fill = value_cut, color = value_cut)) +
geom_sf(data = subset(states, STUSPS %in% c("OH","MI","WI","MN","IA","MO","KS","NE","SD","ND","IL","KY","IN")), color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = "legend",
breaks = c("<30%", "30-35%", "35-40%", "40-45%", ">45%"),
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
scale_color_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = NULL,
breaks = c("<30%", "30-35%", "35-40%", "40-45%", ">45%"),
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
ggtitle("    Percent of Homeowners Without a Mortgage") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 24,hjust = 0.5))
ggsave(dpi = "retina",plot = PCT_MIDWEST, "PCT MIDWEST.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
PCT_WEST <- ggplot() +
geom_sf(data = subset(ZIP_ACS_MERGE, GEOID20 %in% get_zctas_by_state(c("CA","OR","WA","ID","UT","NV","NM","AZ","CO","MT","WY"))), aes(fill = value_cut, color = value_cut)) +
geom_sf(data = subset(states, STUSPS %in% c("CA","OR","WA","ID","UT","NV","NM","AZ","CO","MT","WY")), color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = "legend",
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
scale_color_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = NULL,
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
ggtitle("    Percent of Homeowners Without a Mortgage") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 24,hjust = 0.5))
ggsave(dpi = "retina",plot = PCT_WEST, "PCT WEST.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
ZIP_ACS_MERGE
PCT_DC <- ggplot() +
geom_sf(data = subset(ZIP_ACS_MERGE, GEOID20 %in% get_zctas_by_state(c("DC","MD","VA"))& !is.na(value_cut)), aes(fill = value_cut, color = value_cut)) +
geom_sf(data = subset(states, STUSPS %in% c("DC","MD","VA")), color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = "legend",
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
scale_color_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = NULL,
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
ggtitle("    Percent of Homeowners Without a Mortgage") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 24,hjust = 0.5))
ggsave(dpi = "retina",plot = PCT_DC, "PCT DC graph.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #cairo gets rid of anti aliasing
PCT_WEST <- ggplot() +
geom_sf(data = subset(ZIP_ACS_MERGE, GEOID20 %in% get_zctas_by_state(c("CA","OR","WA","ID","UT","NV","NM","AZ","CO","MT","WY"))& !is.na(value_cut)), aes(fill = value_cut, color = value_cut)) +
geom_sf(data = subset(states, STUSPS %in% c("CA","OR","WA","ID","UT","NV","NM","AZ","CO","MT","WY")), color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = "legend",
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
scale_color_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = NULL,
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
ggtitle("    Percent of Homeowners Without a Mortgage") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 24,hjust = 0.5))
ggsave(dpi = "retina",plot = PCT_WEST, "PCT WEST.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
PCT_NORTHEAST <- ggplot() +
geom_sf(data = subset(ZIP_ACS_MERGE, GEOID20 %in% get_zctas_by_state(c("ME","NH","VT","RI","NJ","NY","PA","MA","CT","PA","DC","MD","VA","WV"))& !is.na(value_cut)), aes(fill = value_cut, color = value_cut)) +
geom_sf(data = subset(states, STUSPS %in% c("ME","NH","VT","RI","NJ","NY","PA","MA","CT","PA","DC","MD","VA","WV")), color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = "legend",
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
scale_color_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = NULL,
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
ggtitle("    Percent of Homeowners Without a Mortgage") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 24,hjust = 0.5))
ggsave(dpi = "retina",plot = PCT_NORTHEAST, "PCT NORTHEAST.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
PCT_SOUTH <- ggplot() +
geom_sf(data = subset(ZIP_ACS_MERGE, GEOID20 %in% get_zctas_by_state(c("NC","SC","GA","AL","MS","FL","LA","TX","TN","AR","OK"))& !is.na(value_cut)), aes(fill = value_cut, color = value_cut)) +
geom_sf(data = subset(states, STUSPS %in% c("NC","SC","GA","AL","MS","FL","LA","TX","TN","AR","OK")), color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = "legend",
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
scale_color_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = NULL,
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
ggtitle("    Percent of Homeowners Without a Mortgage") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 24,hjust = 0.5))
ggsave(dpi = "retina",plot = PCT_SOUTH, "PCT SOUTH.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
PCT_MIDWEST <- ggplot() +
geom_sf(data = subset(ZIP_ACS_MERGE, GEOID20 %in% get_zctas_by_state(c("OH","MI","WI","MN","IA","MO","KS","NE","SD","ND","IL","KY","IN"))& !is.na(value_cut)), aes(fill = value_cut, color = value_cut)) +
geom_sf(data = subset(states, STUSPS %in% c("OH","MI","WI","MN","IA","MO","KS","NE","SD","ND","IL","KY","IN")), color = "black", fill = NA, lwd = 0.65) + # Black borders for states
coord_sf(crs = "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs") + #albers projection
scale_fill_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = "legend",
breaks = c("<30%", "30-35%", "35-40%", "40-45%", ">45%"),
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
scale_color_manual(values = c("#EE6055","#F5B041","#FFE98F", "#AED581", "#00A99D"),
guide = NULL,
breaks = c("<30%", "30-35%", "35-40%", "40-45%", ">45%"),
labels = c("<30%", "30-35%", "35-40%", "40-45%", ">45%")) +
ggtitle("    Percent of Homeowners Without a Mortgage") +
labs(fill = NULL) +
theme_apricitas + theme(legend.position = "right", panel.grid.major=element_blank(), axis.line = element_blank(), axis.text.x = element_blank(),axis.text.y = element_blank(),plot.margin= grid::unit(c(0, 0, 0, 0), "in")) +
theme(plot.title = element_text(size = 24,hjust = 0.5))
ggsave(dpi = "retina",plot = PCT_MIDWEST, "PCT MIDWEST.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in")
setwd("~/GitHub/Apricitas/Have Mortgage Rates Frozen the Housing Market")
FHFA_DATA <- read.csv("https://raw.githubusercontent.com/Miles-byte/Apricitas/main/Have%20Mortgage%20Rates%20Frozen%20the%20Housing%20Market/FHFA_NMDB_MORTGAGE_STATISTICS.csv") %>%
filter(MARKET == "All Mortgages" & SERIESID == "AVE_INTRATE" & GEOID == "USA") %>%
transmute(date = as.Date(as.yearqtr(PERIOD, "%YQ%q")), value = VALUE1)
FIXED_30YR_MORTGAGE <- fredr(series_id = "MORTGAGE30US", observation_start = as.Date("2013-01-01"))
FIXED_30YR_FHFA_graph <- ggplot() +
annotate("hline", y = 0, yintercept = 0, color = "white", size = .5) +
geom_line(data = FHFA_DATA, aes(x = date+45, y = value/100, color = "Average Interest Rate on Outstanding Mortgages"), size = 1.25) +
geom_line(data = FIXED_30YR_MORTGAGE, aes(x = date, y = value/100, color = "Average Interest Rate on New 30-Year Mortgage"), size = 1.25) +
xlab("Date") +
ylab("Interest Rate, %") +
scale_y_continuous(labels = scales::percent_format(accuracy = 1), breaks = c(0,0.025,0.05,0.075), limits = c(0,.075), expand = c(0,0)) +
ggtitle("Low Mortgage Rates as Golden Handcuffs?") +
labs(caption = "Graph created by @JosephPolitano using FHFA and Freddie Mac data", subtitle = "Interest Rates on New 30-Year Mortgages Have Surged Above Rates for Average Existing Borrowers") +
theme_apricitas + theme(legend.position = c(.37,.29)) +#, axis.text.x=element_blank(), axis.title.x=element_blank()) +
scale_color_manual(name= NULL,values = c("#FFE98F","#00A99D","#6A4C93","#A7ACD9","#3083DC","#9A348E","#00A99D","#EE6055")) +
annotation_custom(apricitas_logo_rast, xmin = as.Date("2013-01-01")-(.1861*(today()-as.Date("2013-01-01"))), xmax = as.Date("2013-01-01")-(0.049*(today()-as.Date("2013-01-01"))), ymin = 0-(.3*0.075), ymax = 0) + #these repeated sections place the logo in the bottom-right of each graph. The first number in all equations is the chart's origin point, and the second number is the exact length of the x or y axis
coord_cartesian(clip = "off")
ggsave(dpi = "retina",plot = FIXED_30YR_FHFA_graph, "Fixed 30yr FHFA graph.png", type = "cairo-png", width = 9.02, height = 5.76, units = "in") #cairo gets rid of anti aliasing
HOMEOWN_FREE_CLEAR <- get_acs(
geography = "state",
#variables = DP04,
table = "DP04",
cache_table = TRUE,
year = 2021,
output = "wide",
key = Sys.getenv("CENSUS_KEY"),
moe_level = 90,
survey = "acs1",
show_call = TRUE
)
View(HOMEOWN_FREE_CLEAR)
HOMEOWN_FREE_CLEAR_PCT <- HOMEOWN_FREE_CLEAR %>%
select(GEOID, NAME, DP04_0092PE)
View(HOMEOWN_FREE_CLEAR_PCT)
